# Ralph Notification Configuration (US-012)
# Multi-channel notification settings for build events
#
# Environment variables take precedence over values in this file.
# This file uses KEY=VALUE format for shell sourcing compatibility.

# ============================================================================
# Global Settings
# ============================================================================

# Enable/disable notifications globally (default: true)
# Set RALPH_NOTIFY_ENABLED=false to disable all notifications
NOTIFY_ENABLED=true

# ============================================================================
# Notification Events
# ============================================================================

# Events that trigger notifications (comma-separated)
# Available events: build_start, build_complete, build_failed, stalled, needs_human, story_complete
NOTIFY_EVENTS="build_start,build_complete,build_failed,stalled,needs_human"

# ============================================================================
# CLI Notifications (Always Enabled)
# ============================================================================

# CLI notifications are always enabled - they print to terminal
# No configuration needed

# ============================================================================
# Slack Configuration
# ============================================================================

# Slack webhook URL (set SLACK_WEBHOOK or SLACK_WEBHOOK_URL env var)
# SLACK_WEBHOOK=""

# Slack channel for notifications (default: #ralph-builds)
SLACK_CHANNEL="#ralph-builds"

# Users/channels to mention on failure (comma-separated)
# Examples: @channel, @here, @username
SLACK_MENTION_ON_FAIL="@channel"

# ============================================================================
# Discord Configuration
# ============================================================================

# Discord webhook URL (set DISCORD_WEBHOOK or DISCORD_WEBHOOK_URL env var)
# DISCORD_WEBHOOK=""

# Discord role/user to mention on failure
# Format: <@&ROLE_ID> for roles, <@USER_ID> for users
DISCORD_MENTION_ON_FAIL=""

# ============================================================================
# Email Configuration
# ============================================================================

# Email notifications (requires mail command or SMTP config)
# Set RALPH_NOTIFY_EMAIL to recipient address(es)
# RALPH_NOTIFY_EMAIL=""

# SMTP server for email (default: use local mail command)
# RALPH_SMTP_HOST=""
# RALPH_SMTP_PORT=""
# RALPH_SMTP_USER=""
# RALPH_SMTP_PASS=""

# ============================================================================
# Generic Webhook Configuration
# ============================================================================

# Generic webhook URL for custom integrations
# Receives JSON POST with event payload
# RALPH_NOTIFY_WEBHOOK=""

# ============================================================================
# Quiet Hours
# ============================================================================

# Enable quiet hours (notifications suppressed except for failures)
NOTIFY_QUIET_HOURS_ENABLED=false

# Quiet hours start time (24-hour format, e.g., 22:00)
NOTIFY_QUIET_HOURS_START="22:00"

# Quiet hours end time (24-hour format, e.g., 08:00)
NOTIFY_QUIET_HOURS_END="08:00"

# Timezone for quiet hours (IANA format, e.g., America/New_York)
NOTIFY_QUIET_HOURS_TZ="${TZ:-UTC}"

# Events that bypass quiet hours (comma-separated)
NOTIFY_QUIET_HOURS_BYPASS="build_failed,needs_human"
