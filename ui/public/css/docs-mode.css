/**
 * Documentation Mode Styles
 *
 * Applied when viewing Ralph CLI documentation as a standalone website
 * without Claude Code CLI access. Greys out features that require local CLI.
 */

/* Apply to <html class="docs-mode"> or <body class="docs-mode"> */

/* ============================================================
   CLI-Only Feature Disabling
   ============================================================ */

/* Grey out elements that require CLI */
body.docs-mode .cli-only,
body.docs-mode [data-requires="cli"],
body.docs-mode a[href="/streams.html"],
body.docs-mode a[href*="stream"],
body.docs-mode .stream-controls,
body.docs-mode [data-feature="streams"],
body.docs-mode [data-action*="stream"],
body.docs-mode .wizard-trigger {
  opacity: 0.4;
  pointer-events: none;
  cursor: not-allowed;
  position: relative;
  filter: grayscale(50%);
  transition: all 0.2s ease;
}

/* Hover tooltip for CLI-only features */
body.docs-mode .cli-only::before,
body.docs-mode [data-requires="cli"]::before {
  content: "‚ö†Ô∏è Requires Claude Code CLI";
  position: absolute;
  top: -45px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  color: #000;
  padding: 8px 16px;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
  z-index: 1000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

body.docs-mode .cli-only:hover::before,
body.docs-mode [data-requires="cli"]:hover::before {
  opacity: 1;
}

/* ============================================================
   Documentation Mode Banner
   ============================================================ */

.docs-mode-banner {
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  border-left: 4px solid #f59e0b;
  padding: 20px 24px;
  margin-bottom: 32px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.docs-mode-banner h4 {
  margin: 0 0 8px 0;
  color: #92400e;
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.docs-mode-banner p {
  margin: 0;
  color: #78350f;
  font-size: 14px;
  line-height: 1.6;
}

.docs-mode-banner a {
  color: #92400e;
  font-weight: 600;
  text-decoration: underline;
  transition: color 0.2s;
}

.docs-mode-banner a:hover {
  color: #451a03;
}

/* ============================================================
   Stream Page Specific
   ============================================================ */

/* Grey out entire stream workflow sections */
body.docs-mode #streams-tab,
body.docs-mode .stream-workflow,
body.docs-mode .stream-architecture {
  opacity: 0.5;
  position: relative;
}

body.docs-mode #streams-tab::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 10px,
    rgba(0, 0, 0, 0.02) 10px,
    rgba(0, 0, 0, 0.02) 20px
  );
  pointer-events: none;
  z-index: 1;
}

/* ============================================================
   Navigation Adjustments
   ============================================================ */

/* Dim stream links in sidebar */
body.docs-mode .rams-nav a[href*="stream"] {
  opacity: 0.5;
}

body.docs-mode .rams-nav a[href*="stream"]::after {
  content: " üîí";
  font-size: 12px;
  margin-left: 4px;
}

/* ============================================================
   Button/Action Disabling
   ============================================================ */

/* Disable action buttons that require CLI */
body.docs-mode button[data-action*="stream"],
body.docs-mode button[data-action*="build"],
body.docs-mode button[data-action*="wizard"],
body.docs-mode .rams-btn[href*="stream"] {
  opacity: 0.5;
  pointer-events: none;
  cursor: not-allowed;
  background: var(--rams-gray-300) !important;
  color: var(--rams-gray-600) !important;
}

/* ============================================================
   Code Examples
   ============================================================ */

/* Highlight code blocks that require CLI */
body.docs-mode .rams-code-block:has(code:contains("ralph stream")),
body.docs-mode .rams-code-block:has(code:contains("ralph build")) {
  border-left: 3px solid #f59e0b;
}

body.docs-mode .rams-code-block:has(code:contains("ralph stream"))::before,
body.docs-mode .rams-code-block:has(code:contains("ralph build"))::before {
  content: "‚ö†Ô∏è Requires CLI Installation";
  display: block;
  background: #fef3c7;
  color: #92400e;
  padding: 8px 12px;
  margin: -16px -16px 12px -16px;
  font-size: 12px;
  font-weight: 600;
  border-bottom: 1px solid #fde68a;
}

/* ============================================================
   Modal/Dialog Disabling
   ============================================================ */

/* Hide wizards and modals */
body.docs-mode .wizard-overlay,
body.docs-mode .modal-overlay {
  display: none !important;
}

/* ============================================================
   Responsive Design
   ============================================================ */

@media (max-width: 768px) {
  .docs-mode-banner {
    padding: 16px;
    font-size: 13px;
  }

  .docs-mode-banner h4 {
    font-size: 14px;
  }

  body.docs-mode .cli-only::before,
  body.docs-mode [data-requires="cli"]::before {
    font-size: 11px;
    padding: 6px 12px;
  }
}

/* ============================================================
   Print Styles
   ============================================================ */

@media print {
  .docs-mode-banner {
    border: 2px solid #f59e0b;
    background: #fef3c7;
    page-break-after: avoid;
  }

  body.docs-mode .cli-only::before {
    display: none;
  }
}

/* ============================================================
   Accessibility
   ============================================================ */

/* Ensure disabled elements are keyboard-inaccessible */
body.docs-mode .cli-only,
body.docs-mode [data-requires="cli"] {
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  body.docs-mode .cli-only,
  body.docs-mode [data-requires="cli"] {
    opacity: 0.6;
    outline: 2px dashed #f59e0b;
  }

  .docs-mode-banner {
    border-width: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .docs-mode-banner {
    animation: none;
  }

  body.docs-mode .cli-only::before {
    transition: none;
  }
}
