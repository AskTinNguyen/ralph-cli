<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ralph CLI - Logs</title>
  <link rel="stylesheet" href="/css/rams-ui.css">
  <script src="/js/htmx.min.js"></script>
</head>
<body class="rams-page">

  <!-- Persistent Sidebar -->
  <aside class="rams-sidebar">
    <div class="rams-sidebar-header">
      <div class="rams-logo">
        <div class="rams-logo-mark"></div>
        <span class="rams-logo-text">RALPH</span>
      </div>
    </div>

    <nav class="rams-nav">
      <div class="rams-nav-section">
        <div class="rams-nav-label">Main</div>
        <ul class="rams-nav-items">
          <li><a href="/" class="rams-nav-link">Dashboard</a></li>
          <li><a href="/streams.html" class="rams-nav-link">Streams</a></li>
          <li><a href="/docs/" class="rams-nav-link">Documentation</a></li>
        </ul>
      </div>

      <div class="rams-nav-section">
        <div class="rams-nav-label">Monitoring</div>
        <ul class="rams-nav-items">
          <li><a href="/logs.html" class="rams-nav-link active">Logs</a></li>
          <li><a href="/tokens.html" class="rams-nav-link">Tokens</a></li>
          <li><a href="/trends.html" class="rams-nav-link">Trends</a></li>
        </ul>
      </div>

      <div class="rams-nav-section">
        <div class="rams-nav-label">Tools</div>
        <ul class="rams-nav-items">
          <li><a href="/editor.html" class="rams-nav-link">Editor</a></li>
          <li><a href="/chat.html" class="rams-nav-link">Chat</a></li>
        </ul>
      </div>

      <div class="rams-nav-section">
        <div class="rams-nav-label">Advanced</div>
        <ul class="rams-nav-items">
          <li><a href="/docs/agent-guide.html" class="rams-nav-link">Agent Guide</a></li>
        </ul>
      </div>
    </nav>

    <div class="rams-sidebar-footer">
      <div class="rams-version">v1.0.0</div>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="rams-main">

    <!-- Top Bar -->
    <div class="rams-topbar">
      <div class="rams-breadcrumb">
        <span class="rams-breadcrumb-current">Logs</span>
      </div>
      <div class="rams-topbar-actions">
        <select
          id="stream-filter"
          class="rams-select"
          style="width: auto; min-width: 150px;"
          hx-get="/api/partials/activity-logs"
          hx-trigger="change"
          hx-target="#logs-container"
          hx-include="#stream-filter, #level-filter"
          hx-indicator="#logs-indicator"
          name="streamId"
        >
          <option value="">All Streams</option>
        </select>
        <select
          id="level-filter"
          class="rams-select"
          style="width: auto; min-width: 130px;"
          hx-get="/api/partials/activity-logs"
          hx-trigger="change"
          hx-target="#logs-container"
          hx-include="#stream-filter, #level-filter"
          hx-indicator="#logs-indicator"
          name="level"
        >
          <option value="">All Levels</option>
          <option value="error">Errors Only</option>
          <option value="warning">Warnings & Errors</option>
          <option value="info">Info & Above</option>
        </select>
      </div>
    </div>

    <!-- Content Area -->
    <article class="rams-content">

      <!-- Terminal Commands Section -->
      <section class="rams-section">
        <div
          id="terminal-commands"
          hx-get="/api/partials/terminal-commands"
          hx-trigger="load, change from:#stream-filter"
          hx-swap="innerHTML"
          hx-include="#stream-filter"
        ></div>
      </section>

      <!-- Activity Logs Section -->
      <section class="rams-section">
        <div class="rams-section-header">
          <h2 class="rams-h2">
            Activity Logs
            <span class="htmx-indicator" id="logs-indicator">
              <span class="rams-spinner"></span>
            </span>
          </h2>
        </div>
        <div
          id="logs-container"
          hx-get="/api/partials/activity-logs"
          hx-trigger="load, every 2s"
          hx-swap="innerHTML"
          hx-include="#stream-filter, #level-filter"
          hx-indicator="#logs-indicator"
        >
          <div class="rams-loading">
            <span class="rams-spinner"></span> Loading activity logs...
          </div>
        </div>
      </section>

      <!-- Recent Runs Section -->
      <section class="rams-section">
        <div class="rams-section-header">
          <h2 class="rams-h2">Recent Runs</h2>
        </div>
        <div
          id="runs-container"
          hx-get="/api/partials/recent-runs"
          hx-trigger="load, every 5s"
          hx-swap="innerHTML"
          hx-include="#stream-filter"
        >
          <div class="rams-loading">
            <span class="rams-spinner"></span> Loading recent runs...
          </div>
        </div>
      </section>

    </article>

  </main>

</body>
</html>
